<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Search User</title>
    <link rel="icon" href="/UI/images/faviconLogo.png" type="image/x-icon" />
    <link
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="/UI/CSS/styles.css" />
  </head>
  <body>
    <!-- Navigation Buttons -->
    <div class="left-fixed-buttons">
      <div class="button-row">
        <button class="btn btn-secondary" id="backButton">
          <img src="/UI/images/backButton.png" alt="Back" style="width: 24px" />
          Back
        </button>
        <button class="btn btn-primary" id="homeButton">
          <img src="/UI/images/homeButton.png" alt="Home" style="width: 24px" />
          Home
        </button>
      </div>
    </div>

    <div class="right-fixed-buttons">
      <button class="btn btn-danger" id="signoutButton">
        <img
          src="/UI/images/logoutButton.png"
          alt="Sign Out"
          style="width: 24px"
        />
        Sign Out
      </button>
    </div>

    <!-- Content -->
    <div class="container my-5">
      <h1 class="text-center mb-4">Search User</h1>

      <!-- Search Form -->
      <form id="searchUserForm" onsubmit="searchUser(); return false;">
        <div class="input-group mb-4">
          <select class="form-control col-md-3" id="ouDropdown">
            <option value="">Select OU</option>
            <!-- OU options will be dynamically added here -->
          </select>
          <input
            type="text"
            class="form-control"
            id="usernameInput"
            placeholder="Enter username"
            required
          />
          <div class="input-group-append">
            <button class="btn btn-primary" type="submit">Search</button>
          </div>
        </div>
      </form>

      <!-- User Details Section -->
      <div id="userDetailsTable" class="d-none card p-4 shadow-lg">
        <h3>User Details</h3>
        <table class="table table-bordered">
          <thead>
            <tr>
              <th scope="col">Id</th>
              <th scope="col">Username</th>
              <th scope="col">First Name</th>
              <th scope="col">Last Name</th>
              <th scope="col">Email</th>
              <th scope="col">Phone Number</th>
              <th scope="col">Address</th>
              <th scope="col">Postal Code</th>
            </tr>
          </thead>
          <tbody id="userDetailsTableBody">
            <!-- Dynamic rows will be added here -->
          </tbody>
        </table>
      </div>

      <!-- Error Message for No User Found -->
      <div id="errorMessage" class="alert alert-danger d-none">
        No user found with that username.
      </div>
    </div>

    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script src="/UI/JS/searchUserScript.js"></script>
    <script src="/UI/JS/headerButtons.js"></script>
  </body>
</html>
